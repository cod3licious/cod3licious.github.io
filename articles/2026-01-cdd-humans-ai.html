<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Dr.&nbsp;Franziska Horn">
<meta name="dcterms.date" content="2026-01-27">

<title>Clarity-Driven Development: For Humans &amp; AI ‚Äì Articles</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-123015e50612d5ded739e8c2c473bca3.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="style.css">
</head>

<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./2026-01-cdd-humans-ai.html">CDD for Humans &amp; AI</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Articles</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./interaction_flow_mapping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">InterAction Flow Mapping</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2026-01-cdd-humans-ai.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">CDD for Humans &amp; AI</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#where-humans-are-still-in-the-loop" id="toc-where-humans-are-still-in-the-loop" class="nav-link active" data-scroll-target="#where-humans-are-still-in-the-loop">Where Humans Are Still in the Loop</a></li>
  <li><a href="#gaining-clarity" id="toc-gaining-clarity" class="nav-link" data-scroll-target="#gaining-clarity">Gaining Clarity</a>
  <ul class="collapse">
  <li><a href="#the-why" id="toc-the-why" class="nav-link" data-scroll-target="#the-why">The Why</a></li>
  <li><a href="#the-what" id="toc-the-what" class="nav-link" data-scroll-target="#the-what">The What</a></li>
  <li><a href="#the-how" id="toc-the-how" class="nav-link" data-scroll-target="#the-how">The How</a></li>
  </ul></li>
  <li><a href="#implementing-with-ai" id="toc-implementing-with-ai" class="nav-link" data-scroll-target="#implementing-with-ai">Implementing with AI</a>
  <ul class="collapse">
  <li><a href="#up-front-decisions" id="toc-up-front-decisions" class="nav-link" data-scroll-target="#up-front-decisions">Up-front Decisions</a></li>
  <li><a href="#partitioning-the-work" id="toc-partitioning-the-work" class="nav-link" data-scroll-target="#partitioning-the-work">Partitioning the Work</a></li>
  <li><a href="#coding" id="toc-coding" class="nav-link" data-scroll-target="#coding">Coding</a></li>
  </ul></li>
  <li><a href="#the-result" id="toc-the-result" class="nav-link" data-scroll-target="#the-result">The Result</a>
  <ul class="collapse">
  <li><a href="#where-to-go-from-here" id="toc-where-to-go-from-here" class="nav-link" data-scroll-target="#where-to-go-from-here">Where to Go From Here</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Clarity-Driven Development: For Humans &amp; AI</h1>
<p class="subtitle lead">Coding Might Now Be Cheap, But Thinking Is Still Your Job</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p><a href="https://franziskahorn.de/">Dr.&nbsp;Franziska Horn</a> <a href="mailto:hey@franziskahorn.de" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 27, 2026</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><strong><em>This article is still very much work in progress; more details on the practical example will be added over time.</em></strong></p>
<p>When I attended my first computer science class in 2009, programming‚Äîwriting text that makes a computer do something‚Äîfelt like a magical superpower. But over the years, as I shifted towards designing larger systems, typing out the necessary code to materialize these systems started to feel more and more like a chore. That‚Äôs why I‚Äôve been really excited when, around Nov/Dec 2025, AI coding agents finally reached a point where they produced code I didn‚Äôt feel I had to refactor from top to bottom‚Äîand suddenly software development became fun again.</p>
<p>In this article, I want to give a glimpse into how I personally use AI to develop software (as of January 2026). But more importantly, I want to explain what I <em>don‚Äôt</em> let AI do: the conceptual work that happens before I start coding‚Äîwith or without AI‚Äîand which gives me the confidence that the software is worth building at all. I call this approach <strong>Clarity-Driven Development (CDD)</strong>, which you can also read more about in my latest book, <a href="https://leanpub.com/cddsci"><em>Clarity-Driven Development of Scientific Software</em></a>.</p>
<section id="where-humans-are-still-in-the-loop" class="level2">
<h2 class="anchored" data-anchor-id="where-humans-are-still-in-the-loop">Where Humans Are Still in the Loop</h2>
<p>AI‚Äîmore specifically, generative AI in the form of large language models (LLMs)‚Äîis now available both through web-based chat tools like ChatGPT and through more autonomous agents like Claude Code. These systems can support us in different ways, with varying levels of oversight (<a href="#fig-ai-control" class="quarto-xref">Figure&nbsp;1</a>).</p>
<div id="fig-ai-control" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ai-control-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/cdd_ai/ai_control.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ai-control-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Interactions with AI lie on a spectrum. How much oversight you need to provide depends on your goal, use case, and personal preference.
</figcaption>
</figure>
</div>
<p>While vibe coding may be appropriate for throwaway prototypes, so far I still lean toward the ‚Äúhuman control‚Äù end of the spectrum. That said, as models improve, I‚Äôm increasingly surprised by the quality of AI-generated code and find myself manually verifying less and less‚Äîwhile still having guardrails in place: tests, type checking, linting, and similar feedback loops that also help AI agents validate their own work before calling a task done.</p>
<p>In that respect, I found that working with an AI agent feels a lot like <strong>working with a newly hired colleague</strong>. At first, you watch their output closely‚Äîwho knows, maybe they oversold themselves in the interview, just like marketing promises and flashy AI hype posts don‚Äôt exactly mirror reality. But over time, as they repeatedly deliver, <strong>trust grows and the need for detailed checks drops</strong> (assuming you‚Äôre not a micromanaging control freak who already scared away their best people).</p>
<p>But even your most capable colleagues can only deliver high-quality work if you <strong>provide them with enough context and clearly describe the outcome you want</strong>. By that I don‚Äôt mean prescribing specific steps they need to follow (‚Äúfirst do X, then Y, then Z‚Äù)‚Äîhumans value autonomy over how they accomplish their tasks, and modern AIs are capable of figuring out these steps themselves. But you <em>do</em> need to provide a clear definition of done. And this is exactly what CDD is about: describing the result you envision so your colleague‚Äîhuman or AI‚Äîhas a real chance of delivering something you‚Äôll be happy with.</p>
<p>This also means the spectrum in <a href="#fig-ai-control" class="quarto-xref">Figure&nbsp;1</a> is too one-dimensional. <strong>Human control is exerted in two steps</strong> (<a href="#fig-control-dimensions" class="quarto-xref">Figure&nbsp;2</a>): when providing the <em>input</em> to the AI (by writing more specific prompts) and when reviewing and manually correcting the AI‚Äôs <em>output</em>.</p>
<div id="fig-control-dimensions" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-control-dimensions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/cdd_ai/control_dimensions.png" class="img-fluid figure-img" style="width:47.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-control-dimensions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Humans are in the loop in two places: when providing inputs and when scrutinizing the AI‚Äôs output. I prefer investing effort on the input side and would happily stop verifying outputs one day.
</figcaption>
</figure>
</div>
<p>My hope is that the second step eventually disappears‚Äîthat I can some day <strong>trust AI-generated code the way I trust compiler output</strong>. I‚Äôm perfectly happy, however, to <strong>keep full control on the input side</strong>. I still want to think through the problem and gain clarity about what it is I actually want to build. Now, I‚Äôm not saying this process won‚Äôt also involve AI‚Äîit can actually be a great sounding board for your ideas, similar to how brainstorming together with colleagues provides valuable perspectives. But I believe human thinking is still essential for guiding AI, not least because the software we build is ultimately for human users.</p>
<section id="my-goal" class="level4">
<h4 class="anchored" data-anchor-id="my-goal">My Goal</h4>
<p>What the future of autonomous AI agents will look like‚Äîwhether it will be common practice to have fleets of agents implementing tickets, opening pull requests, and reviewing each other‚Äôs work to produce working software‚Äîis still an open question. But assuming we can one day trust AI outputs, let‚Äôs focus now on the task that will remain essential for humans: defining its inputs.</p>
<p>For this, I‚Äôd argue we should strive for <strong>a format that‚Äôs useful not just for AI, but for human developers</strong> as well: detailed enough that a capable engineer with good judgment can implement it, but not so detailed that it becomes exhausting to write or review. Most importantly, I want the act of writing these documents to help me think‚Äîto better understand the problem and the kind of solution I want. So that‚Äôs where Clarity-Driven Development comes in.</p>
<div class="callout callout-style-default callout-caution callout-titled" title="What about the next generation of developers?">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Caution</span>What about the next generation of developers?
</div>
</div>
<div class="callout-body-container callout-body">
<p>A common concern is that using AI to produce code will prevent junior developers from acquiring the skills needed to become seniors. But those skills were never primarily about coding. The biggest difference I‚Äôve observed between junior and senior developers is that seniors think deeply about the problem and the trade-offs between possible solutions, while juniors tend to jump straight into implementation.</p>
<p>CDD explicitly pushes you to think before writing code. <strong>It helps you practice core skills</strong>: decomposing complex problems into smaller steps, designing data flow and structure, abstracting details behind clean interfaces, and deciding what <em>the right thing to build</em> actually is.</p>
</div>
</div>
</section>
</section>
<section id="gaining-clarity" class="level2">
<h2 class="anchored" data-anchor-id="gaining-clarity">Gaining Clarity</h2>
<p>I didn‚Äôt create Clarity-Driven Development (CDD) as a method for coding with AI. After more than a decade of professional software development, I simply noticed that <strong>I kept going through the same steps at the start of every major project</strong>. Over time, I refined those steps into a more explicit approach. And since the resulting documents are genuinely useful to me as a human developer, it‚Äôs no surprise they also turned out to be effective at guiding AI agents‚Äîa win on both sides.</p>
<p>At its core, <strong>CDD asks you to answer three questions before you start coding</strong> (<a href="#fig-code-questions" class="quarto-xref">Figure&nbsp;3</a>):</p>
<ul>
<li><em><strong>Why</strong> is your idea worth implementing?</em></li>
<li><em><strong>What</strong> should your implementation look like to users?</em></li>
<li><em><strong>How</strong> could you best implement this?</em></li>
</ul>
<div id="fig-code-questions" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-code-questions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://franziskahorn.de/images/00_clarity/code_questions.png" class="img-fluid figure-img" style="width:63.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-code-questions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Before writing code‚Äîyourself or via an AI‚Äîit‚Äôs worth gaining clarity on why the solution should exist, what users should experience, and how it might be implemented.
</figcaption>
</figure>
</div>
<p>I refer to the documents that capture these answers as <strong>sketches</strong>, as they provide a rough but intentional outline of the system to be built. They are far lighter than full requirements or formal specifications and still require a generous dose of sound judgment from a capable engineer to turn them into working software.</p>
<p>In the following sections, I‚Äôll walk through what answering these questions looks like in practice. I‚Äôll use an example from the domain of <em>predictive quality</em>‚Äîmore complex than some toy To-Do app, but familiar enough for me to confidently evaluate the results. The example draws on my prior work at <a href="https://www.basf.com/">BASF</a> (the chemical company) and at <a href="https://alcemy.tech/">alcemy</a>, a climate tech startup applying machine learning to optimize cement recipes and reduce CO‚ÇÇ emissions. Since this example is illustrative rather than commercial, I‚Äôll deliberately skip some details, which I‚Äôll return to at the end of the article.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Clarity- vs. Spec-Driven Development">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Clarity- vs.&nbsp;Spec-Driven Development
</div>
</div>
<div class="callout-body-container callout-body">
<p>A related approach that has gained attention recently is <a href="https://github.com/github/spec-kit/blob/main/spec-driven.md">Spec-Driven Development (SDD)</a>. SDD focuses on producing detailed specifications, plans, and task descriptions‚Äîoften with AI support. The goals is to then review these artifacts before implementation and treat the specs as the source of truth. However, I‚Äôm not convinced that reviewing detailed plans is inherently better than reviewing working code‚Äîand I‚Äôd certainly choose a lightweight set of user stories over hundreds of pages of requirements.</p>
<p>CDD instead emphasizes creating just enough documentation for you and your collaborators‚Äîhuman and AI‚Äîto understand the problem and the conceptual solution. The goal isn‚Äôt to offload thinking onto an AI, but to create sketches that help <em>you</em> gain clarity about what you actually want to build. And many coding agents nowadays then generate plans and task lists on their own in the background anyway. Personally, I‚Äôd also keep the code as the source of truth, since we all know how tempting it is to quickly tweak a feature and forget to update the documentation accordingly.</p>
</div>
</div>
<section id="the-why" class="level3">
<h3 class="anchored" data-anchor-id="the-why">The Why</h3>
<p>The first question we need to answer is <strong>why our idea is worth implementing</strong> in the first place. This comes down to <strong>why users would be better off with our software</strong> than with the alternatives‚Äîwhether those alternatives are competing products, spreadsheets, or no software whatsoever. Answering this requires identifying <strong>who our target users are</strong> (e.g., by creating user personas) and <strong>what is important to them</strong>. Their priorities might be related to specific functionality, usability, aesthetics, or anything else that helps them perform their job better and improve the metrics by which their work is evaluated. If your team includes a product manager / owner, they should be able to help you with these points.</p>
<section id="predictive-quality-example" class="level4">
<h4 class="anchored" data-anchor-id="predictive-quality-example">Predictive Quality Example</h4>
<p><em>TODO</em></p>
</section>
</section>
<section id="the-what" class="level3">
<h3 class="anchored" data-anchor-id="the-what">The What</h3>
<p>In the next step, we need to examine <strong>what our implementation should look like to users</strong>. This typically means creating wireframes and <strong>user interface mockups</strong>, and‚Äîideally‚Äî<strong>testing them with potential users</strong> to see where they struggle. I often start with simple pencil-and-paper sketches, but tools like <a href="https://stitch.withgoogle.com/">Google‚Äôs Stitch</a> can generate polished mockups in seconds using AI. That said, input from a UX designer is invaluable here. And when designs already exist, it‚Äôs worth understanding why they make sense and how they address user needs.</p>
<section id="predictive-quality-example-1" class="level4">
<h4 class="anchored" data-anchor-id="predictive-quality-example-1">Predictive Quality Example</h4>
<p><em>TODO</em></p>
</section>
</section>
<section id="the-how" class="level3">
<h3 class="anchored" data-anchor-id="the-how">The How</h3>
<p>Finally, we need to ponder <strong>how we could best implement this solution</strong>. This includes designing interfaces, data flows, and data structures. Specifically, this means defining the <strong>inputs and outputs of major endpoints or scripts</strong> and outlining the <strong>database schema</strong>. If possible, reviewing these sketches with a more experienced software engineer or architect is time well spent.</p>
<p>I begin by identifying the endpoints required to support the user experience, based on the data needs revealed by each screen‚Äôs mockup. Next, I determine any additional processes needed to support them, such as batch jobs for data processing. For each relevant <strong>interface</strong>, I note down:</p>
<pre><code>- script name or endpoint path
- purpose (high-level description)
- input arguments (names, types, brief description)
- return values
- side effects: how external resources such as databases, message queues, or other services are accessed
- implementation notes, especially key domain logic, invariants, and edge cases</code></pre>
<p>In larger projects, these interface sketches can be <strong>organized into files and folders that mirror the intended module structure</strong>. I usually limit these sketches to interfaces that define the system‚Äôs external behavior. For core functionality, however, it may be useful to additionally outline key functions or classes in this way. Everything else‚Äîhow the internals are decomposed‚Äîcan be left to the implementation and entrusted to our colleague.</p>
<p>To define <strong>database schemas</strong>, I like using <a href="https://www.drawdb.app/">drawDB</a>. It lets you model the schema visually and export the corresponding SQL, which is excellent input for an AI when generating ORMs or other database-related code.</p>
<section id="predictive-quality-example-2" class="level4">
<h4 class="anchored" data-anchor-id="predictive-quality-example-2">Predictive Quality Example</h4>
<p><em>TODO</em></p>
<div class="custom-gray-block">
<p>At this stage, our results are independent of any specific programming language or technology choices. That makes them cheap in the sense that <strong>no hard-to-reverse decisions have been made yet</strong>. Which also means now is a good opportunity‚Äîif you haven‚Äôt already‚Äîto share your idea and sketches with others (human and/or AI) and <strong>gather feedback</strong> before committing to an implementation built on a potentially flawed design.</p>
</div>
<p>Thinking through a problem and solution in this way has always been the fun part for me. In the past, I‚Äôd often stop here‚Äîonce the application ‚Äúworked in my head,‚Äù the challenge was essentially over, and turning my sketches into code just felt like a chore. Fortunately, that tedious work can now be offloaded to an AI that won‚Äôt get bored so easily.</p>
</section>
</section>
</section>
<section id="implementing-with-ai" class="level2">
<h2 class="anchored" data-anchor-id="implementing-with-ai">Implementing with AI</h2>
<p>Now that we have clarity on our desired destination, we‚Äôre ready to let AI take the driver‚Äôs seat.</p>
<div class="callout callout-style-default callout-important callout-titled" title="This is not a prompt engineering tutorial">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Important</span>This is not a prompt engineering tutorial
</div>
</div>
<div class="callout-body-container callout-body">
<p>The workflow descriptions below are kept deliberately high-level. Concrete tips tend to become obsolete almost as soon as they‚Äôre written, given how fast AI models evolve. If you want detailed, tactical advice, just search for ‚Äúprompt engineering.‚Äù For example, the <a href="https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/claude-4-best-practices">best practices provided by Anthropic</a> are a good starting point.</p>
</div>
</div>
<section id="up-front-decisions" class="level3">
<h3 class="anchored" data-anchor-id="up-front-decisions">Up-front Decisions</h3>
<p>Every project starts with a set of structural decisions: codebase layout, deployment strategy, framework choices, and so on. I often <strong>chat with an AI to think these through</strong>, get initial suggestions, and weigh trade-offs.</p>
<p>For example, I usually work in Python, so for a web app I would normally default to using Streamlit (despite all its flaws) to get something working quickly. For this project, though, I wanted something more production-ready and to push both myself and the AI a bit further, so I decided to build a proper frontend using a JavaScript framework. So I asked an AI whether React or Angular would be more appropriate for my use case (<a href="#fig-claude-discussion" class="quarto-xref">Figure&nbsp;4</a>).</p>
<div id="fig-claude-discussion" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-claude-discussion-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/cdd_ai/claude_discussion.png" class="img-fluid figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-claude-discussion-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: How Claude helped me pick a frontend framework.
</figcaption>
</figure>
</div>
<p>The arguments for React sound reasonable, though of course I don‚Äôt have enough frontend experience to fully validate them. However, had I asked an experienced frontend developer for their recommendation, their answer might also be biased, shaped by personal framework preferences and not necessarily tuned to my specific constraints.</p>
<p>Of course, <strong>identifying those constraints in the first place</strong>, and deciding which trade-offs matter, is a skill that comes with experience. If you‚Äôre not sure which factors might be relevant for your use case, you can also tell the AI to first ask you some questions before making a recommendation. In any case, using an AI to help with architectural decisions is almost certainly better than simply adopting whatever technology happens to be the latest shiny thing.</p>
<p>But please note: since LLMs are probabilistic models, your results may vary. I‚Äôve found the following system prompt<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> very helpful to improve answer quality:</p>
<blockquote class="blockquote">
<p><em>Tell it like it is; don‚Äôt sugar-coat responses. Take a forward-thinking view. Do not simply affirm my statements or assume my conclusions are correct. Your goal is to be an intellectual sparring partner, not just an agreeable assistant. Where necessary, question my assumptions and provide counterpoints / alternative perspectives to make sure my reasoning holds up under scrutiny and there are now gaps or flaws in my argument. Correct me where I‚Äôm wrong.</em></p>
</blockquote>
</section>
<section id="partitioning-the-work" class="level3">
<h3 class="anchored" data-anchor-id="partitioning-the-work">Partitioning the Work</h3>
<p>AI context windows are still limited, so dumping all sketches into a single chat and expecting a working system isn‚Äôt realistic. The work needs to be broken into manageable steps‚Äîeither manually or by asking the AI to do it.</p>
<p>I typically start with the database schema and an initial set of endpoints to get a backend running, then add the corresponding frontend components, and repeat this to incrementally extend the system with additional features.</p>
<p><em>TODO: add recommendation from AI how to implement the features step by step</em></p>
</section>
<section id="coding" class="level3">
<h3 class="anchored" data-anchor-id="coding">Coding</h3>
<p>Now for the actual implementation, my AI-assisted coding setup is actually really basic. I‚Äôm not running a swarm of sub-agents overnight to parallelize tasks, review pull requests, and hand me a finished app the next morning. Partly that‚Äôs because I still have enough trust issues and would rather supervise the development step by step. But if we‚Äôre being honest, it‚Äôs also because I haven‚Äôt yet had the patience to dive this deep into the fast-moving ecosystem of AI agents and tooling (how many VS Code clones with AI integration do we have now?!) and prefer to maintain a reasonably predictable workflow.</p>
<p>So what I actually use is the <a href="https://zed.dev/"><strong>Zed IDE</strong></a>, built from the ground up for AI integration and driving recent standards like the agent client protocol, together with <strong>Claude Code</strong>. I have Claude Code running inside the IDE rather than as a CLI, since I really appreciate a thoughtful GUI, for example, to review the agent‚Äôs code changes. I selected Claude Code based on some preliminary experiments comparing different AI models and because Anthropic has set the standard for innovation in coding agents, while other companies mainly scrambled to keep up.</p>
<p><em>TODO: add screenshot of IDE</em></p>
<p>As with web-based chats, I find global instructions essential for getting useful results from a local coding agent. For that, I use an <a href="https://agents.md/"><strong>AGENTS.md file</strong></a>.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> It contains</p>
<ul>
<li>a project overview derived from the CDD ‚Äúwhy‚Äù sketches,</li>
<li>instructions on how the agent should interact with the codebase (for example, using the <code>ty</code> type checker instead of the former default <code>mypy</code> for Python),</li>
<li>and, most importantly, a set of coding guidelines reflecting <a href="https://franziskahorn.de/rsebook/03_state_flow_how#good-code">what I consider good code</a>.</li>
</ul>
<p>You can find my current version in the project‚Äôs GitHub repository <em>(TODO: add link)</em>, but it‚Äôs very much a living document. Whenever the AI does something stupid, I‚Äôll revise the instructions to improve the likelihood of better results in future runs.</p>
<p>After all these preparations‚Äîreasonably detailed sketches, plus a clear set of instructions and constraints‚Äîthe implementation itself becomes fairly straightforward. As Bent Flyvbjerg argues in <em>How Big Things Get Done</em>, a solid, well-thought-out plan gets you halfway to smooth execution and delivery.</p>
<p>But of course, <strong>the process is still iterative</strong>. Early sketches inevitably have gaps that only surface during implementation. In principle, you could then go back, update the sketch documents, and generate a new prompt from the diff. In practice, I usually find it quicker to ask the AI to fix the issue directly and archive the sketches once they‚Äôve been implemented.</p>
</section>
</section>
<section id="the-result" class="level2">
<h2 class="anchored" data-anchor-id="the-result">The Result</h2>
<p><em>TODO!</em> The implementation took roughly X hours and consumed $X in Claude Code tokens. You can check out the code on GitHub and interact with the live application on Render.</p>
<p><em>TODO: add screenshot of application</em></p>
<p>Keep in mind this is still a toy project: achieving the first 80% was relatively straightforward, but‚Äîas always‚Äîthe remaining 20% (or likely more in this case) is where the real challenges lie. From my experience at alcemy, just a few of the <strong>critical components missing for a production-ready system</strong> include:</p>
<ul>
<li>User management, authentication, and other security considerations</li>
<li>Integrating data with automated exports from last-century data management systems</li>
<li>Building an ML model that delivers reliable predictions despite measurement errors, which usually requires integrating deep domain knowledge through feature engineering or hybrid models that combine data-driven approaches with a mechanistic understanding of the underlying processes</li>
<li>Running the system in production, including provisioning infrastructure, handling ongoing data issues, retraining models regularly, and adapting to new edge cases</li>
<li>Change management: ensuring users adopt and ideally enjoy using your product</li>
</ul>
<p>All of these require substantial human creativity, domain expertise, and empathy for users.</p>
<section id="where-to-go-from-here" class="level3">
<h3 class="anchored" data-anchor-id="where-to-go-from-here">Where to Go From Here</h3>
<p>The most important advice that I can give you for AI-assisted coding‚Äîbeyond clearly defining what you want to build‚Äîis to <strong>keep experimenting</strong>. It takes practice to discover which prompts work and when the AI goes off the rails. And then you‚Äôll need to relearn this again every few months as new models and tools appear. But it‚Äôs also fun to keep being positively surprised by your new AI colleague and see how it can amplify your creativity and handle the tedious tasks, letting you focus on the ideas that matter.</p>
<section id="acknowledgements" class="level4">
<h4 class="anchored" data-anchor-id="acknowledgements">Acknowledgements</h4>
<p>The creation of this article was inspired by some great conversations with my wonderful colleagues at <a href="https://www.wps.de/">WPS</a> (but any potentially controversial opinions expressed here are my own üòâ).</p>


</section>
</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>A system prompt is a set of instructions automatically included in all conversations. Depending on how you use an AI, this can live in personal preferences (for web interfaces) or in a configuration file such as an <code>AGENTS.md</code>.<a href="#fnref1" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn2"><p>At the time of writing, <code>AGENTS.md</code> is unfortunately not yet a universally accepted standard across IDEs and coding agents, which is problematic when collaborating with people using different setups. In my case, I work around this by referencing <code>@AGENTS.md</code> from my <code>CLAUDE.md</code> file so Claude Code reliably picks up the instructions. Ideally, this won‚Äôt be necessary in the future.<a href="#fnref2" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script type="text/javascript"> // go once over all images and transform the percentage width into pixels relative to original body size
  const bodyWidth = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--custom-body-width')); // Get CSS variable
  document.querySelectorAll('.quarto-figure img').forEach((img) => {
    if (img.getAttribute('style')) {
      const styleWidth = img.getAttribute('style').match(/width:\s*([\d.]+)%/); // Extract percentage
      if (styleWidth) {
        let percentage = parseFloat(styleWidth[1]) / 100;
        if (percentage < 1) {
          percentage *= 0.87  // had to increase image width for pdf
        }
        img.style.width = `${bodyWidth * percentage}px`; // Apply calculated width
      }
    }
  });
</script>

<style type="text/css">
#footer {
  font-size: 80%; /* Makes the font 70% smaller */
  border-top: 1px solid #ccc; /* Adds a horizontal line above the footer */
  padding-top: 10px; /* Adds some spacing above the footer content */
}
</style>

<!-- FOOTER  -->
<div id="footer" class="outer">
  <footer class="inner">

    <p>Find me on <a href="https://github.com/cod3licious/" target="_blank" rel="nofollow">GitHub</a> and <a href="https://www.linkedin.com/in/franziska-horn/" target="_blank" rel="nofollow">LinkedIn</a><br>
      <a href="https://franziskahorn.de/">Home</a> ~ <a href="mailto:hey@franziskahorn.de?Subject=Article%20Feedback" target="_blank" rel="nofollow">Contact</a> ~ <a href="https://franziskahorn.de/impressum.html">Impressum</a></p>

      <!-- CC license -->
    <p xmlns:cc="http://creativecommons.org/ns#">This work is licensed under <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">CC BY-NC-ND 4.0<img style="height:16px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1" alt=""><img style="height:16px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1" alt=""><img style="height:16px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1" alt=""><img style="height:16px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nd.svg?ref=chooser-v1" alt=""></a></p>
  </footer>
</div>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>